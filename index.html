<!DOCTYPE html>
<html lang="pt">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1"/>
  <title>Portal de Agendamento - Expressglass</title>
  <link rel="stylesheet" href="style.css?v=braga7"/>
  <link rel="manifest" href="manifest.json">
  <meta name="theme-color" content="#2563eb">

  <!-- >>>>>> APENAS PRINT (n√£o afeta ecr√£) <<<<<< -->
  <style>
    /* Sec√ß√µes de impress√£o come√ßam ocultas no ecr√£ */
    .print-unscheduled-section,
    .print-today-section,
    .print-tomorrow-section { display: none; }

    /* Tabelas de impress√£o (base) */
    .print-unscheduled-table,
    .print-today-table,
    .print-tomorrow-table { width: 100%; border-collapse: collapse; }
    .print-unscheduled-table th, .print-unscheduled-table td,
    .print-today-table th,        .print-today-table td,
    .print-tomorrow-table th,     .print-tomorrow-table td {
      border: 1px solid #111; padding: 4px 6px; font-size: 12px; vertical-align: top;
    }

    @media print {
      .no-print { display: none !important; }
      .print-unscheduled-section,
      .print-today-section,
      .print-tomorrow-section { display: block; }

      .print-break-before { break-before: page; page-break-before: always; }
      thead { display: table-header-group; }
      tfoot { display: table-footer-group; }
      tr, th, td { break-inside: avoid; page-break-inside: avoid; }

      .print-today-table,
      .print-tomorrow-table{
        width:100% !important; border-collapse:collapse !important; table-layout:fixed !important;
      }

      .print-today-table th:nth-child(1),    .print-today-table td:nth-child(1),
      .print-tomorrow-table th:nth-child(1), .print-tomorrow-table td:nth-child(1){ width: 8%; }  /* Per√≠odo */
      .print-today-table th:nth-child(2),    .print-today-table td:nth-child(2),
      .print-tomorrow-table th:nth-child(2), .print-tomorrow-table td:nth-child(2){ width:12%; }  /* Matr√≠cula */
      .print-today-table th:nth-child(3),    .print-today-table td:nth-child(3),
      .print-tomorrow-table th:nth-child(3), .print-tomorrow-table td:nth-child(3){ width:16%; }  /* Carro */
      .print-today-table th:nth-child(4),    .print-today-table td:nth-child(4),
      .print-tomorrow-table th:nth-child(4), .print-tomorrow-table td:nth-child(4){ width:10%; }  /* Servi√ßo */
      .print-today-table th:nth-child(5),    .print-today-table td:nth-child(5),
      .print-tomorrow-table th:nth-child(5), .print-tomorrow-table td:nth-child(5){ width:14%; }  /* Localidade */
      .print-today-table th:nth-child(6),    .print-today-table td:nth-child(6),
      .print-tomorrow-table th:nth-child(6), .print-tomorrow-table td:nth-child(6){ width: 8%; }  /* Estado */
      .print-today-table th:nth-child(7),    .print-today-table td:nth-child(7),
      .print-tomorrow-table th:nth-child(7), .print-tomorrow-table td:nth-child(7){ width:24%; }  /* Observa√ß√µes */
      .print-today-table th:nth-child(8),    .print-tomorrow-table td:nth-child(8),
      .print-tomorrow-table td:nth-child(8){ width:8%; }   /* Outros */

      .print-today-table th, .print-today-table td,
      .print-tomorrow-table th, .print-tomorrow-table td{
        border:1px solid #000 !important; padding:4px 6px !important; font-size:12px !important;
        vertical-align:top !important; white-space:normal !important;
      }

      .print-today-table thead, .print-tomorrow-table thead{ display: table-header-group !important; }
    }

    /* ===== ECR√É (N√ÉO PRINT): Ajustes de colunas na tabela principal ===== */
    .services-table { table-layout: fixed; width: 100%; }
    .services-table th, .services-table td{ overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
    /* Data */        .services-table th:nth-child(1), .services-table td:nth-child(1){ width: 8%; }
    /* Per√≠odo */     .services-table th:nth-child(2), .services-table td:nth-child(2){ width: 9%; }
    /* Matr√≠cula */   .services-table th:nth-child(3), .services-table td:nth-child(3){ width: 10%; }
    /* Carro */       .services-table th:nth-child(4), .services-table td:nth-child(4){ width: 16%; }
    /* Servi√ßo */     .services-table th:nth-child(5), .services-table td:nth-child(5){ width: 10%; }
    /* Localidade */  .services-table th:nth-child(6), .services-table td:nth-child(6){ width: 13%; }
    /* Observa√ß√µes */ .services-table th:nth-child(7), .services-table td:nth-child(7){ width: 24%; }
    /* Estado */      .services-table th:nth-child(8), .services-table td:nth-child(8){ width: 8%; }
    /* Dias */        .services-table th:nth-child(9), .services-table td:nth-child(9){ width: 6%; }
    .table-wrapper{ overflow-x:auto; }
    @media (max-width:1100px){ .services-table{ min-width:1100px; } }

    /* ===== MOBILE CARDS ‚Äî cor pela LOCALIDADE; texto branco com contorno ===== */
    @media (max-width: 768px){
      #mobileDayList{ display: grid; gap: 16px; padding: 8px 16px; }

      .m-card{
        position: relative;
        border-radius: 22px;
        padding: 16px;
        background: linear-gradient(180deg, var(--c1, #1e88e5) 0%, var(--c2, #1565c0) 100%);
        box-shadow: 0 8px 24px rgba(0,0,0,.18);
        color: #fff;
      }
      .m-card, .m-card *{
        color:#fff !important;
        text-shadow:
          0 1px 2px rgba(0,0,0,.55),
          0 0 2px rgba(0,0,0,.35);
      }

      .m-title{
        display: flex; align-items: center; gap: 8px;
        font-weight: 800; font-size: 20px; letter-spacing: .2px;
      }
      .m-chips{ display:flex; gap:10px; margin:12px 0 8px; flex-wrap:wrap; }

      .m-chip{
        background: transparent;
        border: 1px solid rgba(255,255,255,.45);
        border-radius: 999px;
        padding: 6px 10px;
        font-weight: 700; font-size: 14px; line-height: 1;
      }

      .m-info{ margin-top: 6px; font-size: 15px; font-weight: 600; opacity: .95; }

      #mobileDayList .m-status,
      #mobileDayList .status,
      #mobileDayList .m-divider{ display:none !important; }
    }
  </style>
  <!-- /PRINT -->
</head>
<body class="page-sm-braga">
  <div class="page">
    <!-- ===== Header ===== -->
    <header class="page-header">
      <h1>AGENDAMENTO SM BRAGA</h1>
      <p class="subtitle">Agendamento servi√ßos Expressglass</p>
      <div class="header-actions">
        <div id="connectionStatus" class="connection-status" title="Status da conex√£o">
          <span id="statusIcon">üåê</span>
          <span id="statusText">Online</span>
        </div>
        <button id="backupBtn" class="header-btn" title="Backup de dados">üíæ</button>
        <button id="statsBtn" class="header-btn" title="Estat√≠sticas">üìä</button>
        <button id="searchBtn" class="header-btn" title="Pesquisar">üîç</button>
      </div>
    </header>

    <!-- (restante HTML ‚Äî barra de pesquisa, nav-bar, calend√°rio, servi√ßos por agendar,
         vista di√°ria mobile, tabela de servi√ßos, modais, print, skin mobile ‚Äî tudo igual
         ao que me enviaste) -->
  </div>

  <!-- ===== Scripts com cache-busting ===== -->
  <script src="api.js?v=braga7"></script>
  <script src="script.js?v=braga7"></script>
  <script src="horizontal-services-layout.js?v=braga7"></script>
  <script src="horizontal-layout-final.js?v=braga7"></script>
  <script src="expressglass-sabado-final.js?v=braga7"></script>
  <script src="expressglass-sabado-automatico-final.js?v=braga7"></script>
  <script src="expressglass-sabado-definitivo.js?v=braga7"></script>

  <!-- >>>>>> Mant√©ns os teus scripts inline de impress√£o e mobile skin <<< -->
  <script>
    /* ... o script de impress√£o que j√° tens ... */
  </script>

  <script>
    /* ... o script de mobile card skin que j√° tens ... */
  </script>
</body>
</html>

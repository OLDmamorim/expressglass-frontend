/* =========================
   BASE / RESET
   ========================= */
*{ box-sizing:border-box; }
html, body { max-width: 100vw; overflow-x: hidden; }
body{
  font-family: Arial, Helvetica, sans-serif;
  margin: 20px; background:#f6f7fb; color:#1f2937;
}
.hidden{ display:none !important; }

/* =========================
   HEADER
   ========================= */
.page-header {
  position: relative;
  display: flex; align-items: center; justify-content: space-between;
  margin-bottom: 16px;
}
.page-header .left {
  display: flex; align-items: center; gap: 12px;
}
.logo {
  display: flex; align-items: center; gap: 10px;
}
.logo img { height: 36px; }
.logo .brand {
  display: flex; flex-direction: column; line-height: 1.1;
}
.logo .brand .title { font-size: 18px; font-weight: 800; letter-spacing: .3px; }
.logo .brand .subtitle { font-size: 12px; color: #6b7280; font-weight: 600; }

.page-header .right {
  display: flex; align-items: center; gap: 10px;
}

/* Título central */
.page-header .center {
  flex: 1; text-align: center; pointer-events: none;
}
.current-week-title {
  display:inline-block; font-weight:800; font-size: 16px;
  background: #eef2ff; color:#1d4ed8; padding:6px 10px; border-radius: 8px;
  border: 1px solid #c7d2fe;
}

/* Botões simples */
.btn {
  display:inline-flex; align-items:center; gap:8px;
  padding: 8px 12px; border-radius: 8px; border:1px solid #e5e7eb;
  background:#fff; color:#111827; cursor:pointer; font-weight:700; font-size: 14px;
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
}
.btn:hover { background:#f9fafb; }
.btn.primary { background:#2563eb; color:#fff; border-color:#1d4ed8; }
.btn.primary:hover { background:#1d4ed8; }
.btn.secondary { background:#111827; color:#fff; border-color:#111827; }
.btn.secondary:hover { filter:brightness(.95); }
.btn:disabled{ opacity:.5; cursor:not-allowed; }

/* Ícones (emojis ou svg inline) alinhados */
.btn .icon { font-size: 16px; line-height: 1; }

/* Botão flutuante no mobile */
.mobile-add-btn {
  display:none; position:fixed; bottom:16px; right:16px; z-index:1000;
  border-radius:999px; padding:12px 16px; font-size:16px; font-weight:800;
  box-shadow:0 8px 20px rgba(37,99,235,.25);
}

/* Campo de busca + filtro */
.search-bar {
  display:flex; align-items:center; gap:8px;
  background:#fff; border:1px solid #e5e7eb; border-radius: 10px; padding: 6px 10px;
}
.search-bar input {
  border:none; outline:none; font-size:14px; width:200px; color:#111827;
}
.search-bar .chip {
  background:#f3f4f6; padding: 4px 8px; border-radius: 999px; font-weight:700; font-size: 12px;
  border:1px solid #e5e7eb; cursor:pointer;
}
.search-bar .chip.active { background:#2563eb; color:#fff; border-color:#1d4ed8; }

/* Área de botões de topo (direita) */
.top-actions { display:flex; align-items:center; gap: 8px; }

/* =========================
   LAYOUT DESKTOP
   ========================= */
.desktop {
  display: grid; grid-template-columns: repeat(7, 1fr); gap: 10px;
}
.day-column {
  display:flex; flex-direction:column; gap:8px; background:#fff; border:1px solid #e5e7eb;
  border-radius: 12px; padding:10px; min-height:300px;
}
.day-column .day-header {
  display:flex; align-items:center; justify-content:space-between; gap:6px;
  font-weight:800; color:#111827; padding-bottom:6px; border-bottom:1px dashed #e5e7eb;
}
.day-column .day-header .date { font-size: 12px; color:#6b7280; font-weight:700; }
.day-column .list { display:flex; flex-direction:column; gap:8px; }

/* Cartão base (desktop) — o JS injecta gradiente conforme status */
.appointment {
  display:flex; gap:10px; border-radius: 12px; padding:10px; border:1px solid #e5e7eb;
  background:linear-gradient(0deg,#fff,#fafafa);
  box-shadow: 0 1px 2px rgba(0,0,0,.04);
}
.appointment .left {
  width: 6px; border-radius:999px; background:#94a3b8; flex-shrink:0; align-self:stretch;
}
.appointment .content { display:flex; flex-direction:column; gap:6px; width:100%; }
.appointment .row1 {
  display:flex; align-items:center; justify-content:space-between; gap:6px;
}
.appointment .period { font-size:12px; font-weight:800; letter-spacing:.3px; opacity:.8; }
.appointment .plate { font-weight:900; font-size:18px; letter-spacing:1px; }
.appointment .row2 {
  display:flex; align-items:center; gap:8px; flex-wrap:wrap;
}
.appointment .service { font-weight:800; font-size:14px; }
.appointment .car { color:#374151; font-weight:700; font-size:13px; opacity:.9; }
.appointment .row3 {
  display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.badge {
  display:inline-flex; align-items:center; gap:6px;
  border-radius:999px; padding:4px 8px; font-size:12px; font-weight:800;
  background: #eef2ff; color:#1d4ed8; border:1px solid #c7d2fe;
}
.badge .dot { width:8px; height:8px; border-radius:999px; }
.appointment .notes {
  font-size:12px; color:#111827; opacity:.85; background:rgba(255,255,255,.6);
  border:1px dashed #e5e7eb; padding:6px 8px; border-radius:8px; font-weight:600;
}
.actions {
  display:flex; align-items:center; gap:6px;
}
.actions .btn { padding:6px 8px; font-size:12px; }

/* Estados de status por cor base do gradiente (JS calcula) */
.status-NE .left { background:#EF4444; }
.status-VE .left { background:#F59E0B; }
.status-ST .left { background:#10B981; }

/* =========================
   LAYOUT MOBILE (lista diária)
   ========================= */
.mobile {
  display:none; gap:10px; flex-direction:column;
}
.mobile .day-bar {
  display:flex; align-items:center; justify-content:space-between; gap:10px;
}
.mobile .day-bar .day { font-weight:900; font-size:16px; }
.mobile .day-bar .date { font-size:12px; font-weight:700; color:#6b7280; }
.mobile .list { display:flex; flex-direction:column; gap:8px; }

/* Cartão mobile (o JS recria o HTML numa versão “clean”) */
.m-card{
  display:flex; flex-direction:column; gap:8px; border-radius:16px; padding:12px;
  border:1px solid #e5e7eb; background:linear-gradient(0deg,#fff,#fafafa);
  box-shadow: 0 2px 6px rgba(0,0,0,.04);
}
.m-top{
  display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.m-plate{ font-weight:900; font-size:18px; letter-spacing:.8px; }
.m-period{ font-size:12px; font-weight:800; opacity:.8; }
.m-divider{ height:1px; background:#e5e7eb; }
.m-line{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
.m-service{ font-weight:800; font-size:14px; }
.m-car{ color:#374151; font-weight:700; font-size:13px; opacity:.9; }
.m-badge{ display:inline-flex; align-items:center; gap:6px; border:1px solid #c7d2fe; background:#eef2ff; color:#1d4ed8; padding:4px 8px; font-weight:800; border-radius:999px; font-size:12px; }
.m-badge .dot{ width:8px; height:8px; border-radius:999px; }
.m-notes{ font-size:12px; color:#111827; opacity:.85; background:rgba(255,255,255,.6); border:1px dashed #e5e7eb; padding:6px 8px; border-radius:8px; font-weight:600; }
.m-actions{ display:flex; align-items:center; gap:6px; }
.m-actions .btn{ padding:6px 8px; font-size:12px; }

/* =========================
   MODAIS
   ========================= */
.modal {
  position: fixed; inset: 0; background: rgba(15,23,42,.4);
  display: none; align-items: center; justify-content: center; z-index: 1000;
}
.modal-content {
  background: #fff; border-radius: 14px; border:1px solid #e5e7eb;
  width: min(880px, 92vw); max-height: 90vh; overflow: auto;
  box-shadow: 0 20px 60px rgba(0,0,0,.25);
}
.modal-header {
  display:flex; align-items:center; justify-content:space-between; gap:10px;
  padding:12px 16px; border-bottom:1px solid #f3f4f6;
  background: linear-gradient(0deg,#f8fafc,#fff);
}
.modal-header h3 { font-size:16px; font-weight:900; }
.close-btn {
  border:none; background:transparent; font-size:18px; cursor:pointer; padding:6px; border-radius:8px;
}
.close-btn:hover { background:#f3f4f6; }

.modal-body {
  padding: 14px 16px; display:grid; gap: 12px;
}

/* Formulário dentro do modal de agendamento */
.form-grid {
  display:grid; grid-template-columns: 1fr 1fr; gap: 10px;
}
.form-grid .field{ display:flex; flex-direction:column; gap:6px; }
.form-grid .field label{ font-size:12px; font-weight:800; color:#6b7280; }
.form-grid .field input,
.form-grid .field select,
.form-grid .field textarea{
  border:1px solid #e5e7eb; border-radius:10px; padding:8px 10px;
  font-size:14px; font-weight:700; color:#111827;
  background:#fff;
}
.form-grid .field textarea{ min-height:64px; resize:vertical; }
.form-grid .actions-row{ grid-column: 1 / -1; display:flex; gap:8px; justify-content:flex-end; }

@media(max-width: 820px){
  .form-grid{ grid-template-columns: 1fr; }
}

/* Toast */
#toastContainer{
  position: fixed; top: 12px; right: 12px; display:flex; flex-direction:column; gap:6px; z-index:2000;
}
.toast{
  display:flex; align-items:center; gap:8px; padding:10px 12px;
  border-radius: 10px; border:1px solid #e5e7eb; background:#fff; font-weight:800;
  box-shadow: 0 6px 18px rgba(0,0,0,.12);
}
.toast.success{ border-color:#10b981; background:linear-gradient(0deg,#ecfdf5,#fff); }
.toast.error{ border-color:#ef4444; background:linear-gradient(0deg,#fef2f2,#fff); }
.toast.info{ border-color:#93c5fd; background:linear-gradient(0deg,#eff6ff,#fff); }

/* =========================
   SEÇÕES DE IMPRESSÃO
   ========================= */
@media print{
  body { margin: 0; }
  .page-header, .desktop, .mobile, .top-actions, #toastContainer, .modal { display: none !important; }
  .print-today-section,
  .print-tomorrow-section,
  .print-unscheduled-section { display: block !important; page-break-inside: avoid; }

  .print-section{ margin: 20px; }
  .print-title{
    display:flex; align-items:center; justify-content:space-between;
    margin-bottom: 8px; font-weight:900;
  }
  .print-title .date{
    font-size: 16px;
  }
  .print-table{
    width:100%; border-collapse:collapse; border:1px solid #000;
    table-layout: fixed;
  }
  .print-table th, .print-table td{
    border:1px solid #000; padding:4px 6px; font-size:12px; word-wrap: break-word; overflow-wrap:anywhere;
  }
  .print-table thead th{
    position: sticky; top: 0; background:#fff; z-index: 1;
  }

  /* Larguras de colunas — hoje/amanhã partilham o mesmo */
  .col-date{ width: 10%; }
  .col-period{ width: 10%; }
  .col-plate{ width: 11%; }
  .col-car{ width: 18%; }
  .col-service{ width: 14%; }
  .col-locality{ width: 12%; }
  .col-notes{ width: 20%; }
  .col-status{ width: 5%; }

  /* Para não esticar demais */
  .print-table td{ vertical-align: top; }
}

/* =========================
   BACKUP (Export/Import)
   ========================= */
.backup-actions{
  display:flex; align-items:center; gap:8px;
}
.backup-section{
  background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:12px;
}
.import-status{ margin-top:8px; font-size:12px; color:#374151; }

/* =========================
   ESTATÍSTICAS
   ========================= */
.stats-cards{
  display:grid; grid-template-columns: repeat(3, minmax(0,1fr)); gap:10px;
}
.stat{
  background:#fff; border:1px solid #e5e7eb; border-radius:12px; padding:12px;
  box-shadow:0 1px 2px rgba(0,0,0,.04);
}
.stat .label{ font-size:12px; color:#6b7280; font-weight:800; }
.stat .value{ font-weight:900; font-size:20px; margin-top:4px; }

/* =========================
   RESPONSIVO
   ========================= */
@media (max-width: 1180px){
  .desktop{ grid-template-columns: repeat(4,1fr); }
}
@media (max-width: 980px){
  .desktop{ grid-template-columns: repeat(3,1fr); }
}
@media (max-width: 820px){
  .desktop{ display:none; }
  .mobile{ display:flex; }
  .page-header .center{ display:none; }
  .search-bar input{ width:120px; }
}

/* =========================
   AJUSTES FINOS / UTILIDADES
   ========================= */
.highlight{ outline:2px solid #2563eb; box-shadow:0 0 0 3px rgba(37,99,235,.25); }

/* Chips pequenos para info */
.m-chip{
  display:inline-flex; gap:6px; align-items:center;
  background:#eef2ff; color:#1d4ed8; padding:4px 8px; border-radius:999px;
  font-size:12px; font-weight:800; border:1px solid #c7d2fe;
}

/* ======= CARD DESKTOP ESTÉTICA ======= */
.appointment .tags{ display:flex; align-items:center; gap:6px; flex-wrap:wrap; }

/* ======= CARD MOBILE ESTÉTICA ======= */
.m-card .tags{ display:flex; align-items:center; gap:6px; flex-wrap:wrap; }

/* Botão “Novo Serviço” flutuante só no mobile */
#addServiceBtn{ display: inline-flex; }
@media (max-width: 820px){
  #addServiceBtn { display: none !important; }
  .mobile-add-btn { display: inline-flex !important; }
}


/* ===== Estatísticas (modal) ===== */
.stats-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:16px;margin:10px 0}
@media(max-width:800px){.stats-grid{grid-template-columns:1fr}}
.stat-card{background:#fff;border:1px solid #e5e7eb;border-radius:12px;padding:14px;box-shadow:0 2px 4px rgba(0,0,0,.04)}
.stat-number{font-size:22px;font-weight:800;margin-top:4px}
.stat-label{font-size:12px;color:#6b7280}